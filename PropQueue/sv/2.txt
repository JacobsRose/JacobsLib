--@name libs/jacobs/PropQueue/sv/2.txt
--@include ../../Timer/sh/1.txt
local Timer = require("../../Timer/sh/1.txt")
local PropQueue = {}
function PropQueue.addToQueue(func)
    if PropQueue.queue ~= nil then
        table.insert(PropQueue.queue, func)
    elseif prop.canSpawn() then
        func()
    else
        
        PropQueue.queue = {}

        table.insert(PropQueue.queue, func)

        PropQueue.Timer = Timer:new(1/prop.spawnRate(), 0, function()
            for k,v in pairs(PropQueue.queue) do
                if prop.canSpawn() then
                    v()
                    PropQueue.queue[k] = nil
                else 
                    break 
                end
            end
            if table.count(PropQueue.queue) == 0 then 
                PropQueue.queue = nil
                PropQueue.Timer:Remove()
                PropQueue.Timer = nil
            end
        end)

    end
    
end
return PropQueue